(self.webpackChunkopenstreet=self.webpackChunkopenstreet||[]).push([[179],{3366:(e,t,r)=>{"use strict";r.d(t,{Z:()=>Ze});var n=r(7294),l=r(7209),a=r(6550),o=r(3727);const i=function(e){return n.createElement("div",{className:"home"},n.createElement("ol",null,n.createElement(o.rU,{to:"example-1"},n.createElement("li",null,"Example 1 (Map Setup)")),n.createElement(o.rU,{to:"example-2"},n.createElement("li",null,"Example 2 (Draw Shapes)")),n.createElement(o.rU,{to:"example-3"},n.createElement("li",null,"Example 3 (Layer Clipping)")),n.createElement(o.rU,{to:"example-4"},n.createElement("li",null,"Example 4 (LineString arrows)")),n.createElement(o.rU,{to:"example-5"},n.createElement("li",null,"Example 5 (Apply Layers)")),n.createElement(o.rU,{to:"example-6"},n.createElement("li",null,"Example 6 (Upload Geo json)"))))};r(9734),r(9789);var c=r(6713),u=r(8280),s=r(2914),f=r(4422);function m(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,l,a=[],o=!0,i=!1;try{for(r=r.call(e);!(o=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);o=!0);}catch(c){i=!0,l=c}finally{try{o||null==r.return||r.return()}finally{if(i)throw l}}return a}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return p(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return p(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}const y=function(e){var t=m((0,n.useState)(null),2),r=(t[0],t[1]),l=(0,n.useRef)(null);return(0,n.useEffect)((function(){var e=new c.Z({target:l.current,layers:[new s.Z({source:new f.Z})],view:new u.ZP({center:[0,0],zoom:0})});return r(e),function(){return e.setTarget(void 0)}}),[]),n.createElement("div",{className:"example-1"},n.createElement(o.rU,{to:"/"},"Home"),n.createElement("h2",null,"Map Setup"),n.createElement("div",{className:"map",ref:l,id:"example-1-map"}))};var d=r(8499),g=r(353),v=r(9775),b=r(7258);function h(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,l,a=[],o=!0,i=!1;try{for(r=r.call(e);!(o=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);o=!0);}catch(c){i=!0,l=c}finally{try{o||null==r.return||r.return()}finally{if(i)throw l}}return a}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return E(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return E(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function E(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}const S=function(e){var t=h((0,n.useState)(null),2),r=t[0],l=t[1],a=h((0,n.useState)(new v.Z({wrapX:!1})),2),i=a[0],m=a[1],p=h((0,n.useState)("Circle"),2),y=p[0],E=p[1],S=(0,n.useRef)(null),w=(0,n.useRef)(null),O=function(){var e,t=y;"None"!==t&&("Square"===t?(t="Circle",e=(0,d.N_)(4)):"Box"===t?(t="Circle",e=(0,d.dO)()):"Star"===t&&(t="Circle",e=function(e,t){for(var r=e[0],n=e[e.length-1],l=r[0]-n[0],a=r[1]-n[1],o=Math.sqrt(l*l+a*a),i=Math.atan2(a,l),c=[],u=0;u<12;++u){var s=i+2*u*Math.PI/12,f=u%2===0?1:.5,m=o*f*Math.cos(s),p=o*f*Math.sin(s);c.push([r[0]+m,r[1]+p])}return c.push(c[0].slice()),t?t.setCoordinates([c]):t=new g.ZP([c]),t}),w.current=new d.ZP({source:i,type:t,geometryFunction:e}),r.addInteraction(w.current))};return(0,n.useEffect)((function(){var e=new c.Z({target:S.current,layers:[new s.Z({source:new f.Z}),new b.Z({source:i})],view:new u.ZP({center:[-11e5,46e5],zoom:5})});return m(i),l(e),function(){return e.setTarget(void 0)}}),[]),(0,n.useEffect)((function(){r&&(r.removeInteraction(w.current),O())}),[y]),(0,n.useEffect)((function(){return r&&O()}),[r]),n.createElement("div",{className:"example-1"},n.createElement(o.rU,{to:"/"},"Home"),n.createElement("h2",null,"Draw Shapes"),n.createElement("select",{value:y||"",onChange:function(e){return E(e.target.value)}},n.createElement("option",{value:"",disabled:!0},"Select Shape Type"),n.createElement("option",{value:"Circle"},"Circle"),n.createElement("option",{value:"Box"},"Box"),n.createElement("option",{value:"Square"},"Square"),n.createElement("option",{value:"Star"},"Star")),n.createElement("button",{type:"button",onClick:function(){w.current.removeLastPoint()}},"Undo"),n.createElement("div",{className:"map",ref:S,id:"example-2-map"}))};function w(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,l,a=[],o=!0,i=!1;try{for(r=r.call(e);!(o=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);o=!0);}catch(c){i=!0,l=c}finally{try{o||null==r.return||r.return()}finally{if(i)throw l}}return a}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return O(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return O(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function O(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}const k=function(e){var t=w((0,n.useState)(null),2),r=(t[0],t[1]),l=(0,n.useRef)(null);return(0,n.useEffect)((function(){var e=new s.Z({source:new f.Z}),t=new s.Z({source:new f.Z}),n=new c.Z({target:l.current,layers:[e,t],view:new u.ZP({center:[0,0],zoom:0})});return r(n),t.on("prerender",(function(e){var t=e.context,r=e.inversePixelTransform,n=Math.sqrt(r[0]*r[0]+r[1]*r[1]);Math.atan2(r[1],r[0]);t.save(),t.translate(t.canvas.width/2,t.canvas.height/2),t.scale(3*n,3*n),t.translate(-75,-80),t.beginPath(),t.moveTo(90,130),t.lineTo(95,25),t.lineTo(150,80),t.lineTo(205,25),t.lineTo(210,130),t.stroke(),t.clip(),t.translate(75,80),t.scale(1/3/n,1/3/n),t.translate(-t.canvas.width/2,-t.canvas.height/2)})),function(){return n.setTarget(void 0)}}),[]),n.createElement("div",{className:"example-3"},n.createElement(o.rU,{to:"/"},"Home"),n.createElement("h2",null,"Layer Clipping"),n.createElement("div",{className:"map",ref:l,id:"example-3-map"}))};var P=r(1219),Z=r(767),j=r(9166),x=r(2043);function C(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,l,a=[],o=!0,i=!1;try{for(r=r.call(e);!(o=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);o=!0);}catch(c){i=!0,l=c}finally{try{o||null==r.return||r.return()}finally{if(i)throw l}}return a}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return N(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return N(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function N(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}const A=function(e){var t=C((0,n.useState)(null),2),r=(t[0],t[1]),l=(0,n.useRef)(null),a=function(e){var t=e.getGeometry(),r=[new P.ZP({stroke:new Z.Z({color:"#ffcc33",width:2})})];return t.forEachSegment((function(e,t){var n=t[0]-e[0],l=t[1]-e[1],a=Math.atan2(l,n);r.push(new P.ZP({geometry:new x.Z(t),image:new j.Z({src:"/static/images/arrow.png",anchor:[.75,.5],rotateWithView:!0,rotation:-a})}))})),r};return(0,n.useEffect)((function(){var e=new v.Z,t=new c.Z({target:l.current,layers:[new s.Z({source:new f.Z}),new b.Z({source:e,style:a})],view:new u.ZP({center:[0,0],zoom:4})});return r(t),t.addInteraction(new d.ZP({source:e,type:"LineString"})),function(){return t.setTarget(void 0)}}),[]),n.createElement("div",{className:"example-4"},n.createElement(o.rU,{to:"/"},"Home"),n.createElement("h2",null,"LineString arrows"),n.createElement("div",{className:"map",ref:l,id:"example-4-map"}))};var I=r(4109),F=r(8185);const T=function(e,t){(0,n.useEffect)((function(){if("function"===typeof t)return document.addEventListener("mousedown",r),function(){return document.removeEventListener("mousedown",r)};function r(r){null!==e&&void 0!==e&&e.current&&!e.current.contains(r.target)&&t()}}),[e,t])},L=JSON.parse('{"light":["rgb(235, 128, 174, 0.4)","rgb(228, 159, 144, 0.4)","rgb(236, 224, 173, 0.4)","rgb(146, 197, 171, 0.4)","rgb(141, 154, 228, 0.4)","rgb(209, 151, 224, 0.4)","rgb(218, 127, 160, 0.4)","rgb(228, 163, 110, 0.4)","rgb(206, 211, 145, 0.4)","rgb(196, 219, 217, 0.4)","rgb(194, 201, 235, 0.4)","rgb(146, 122, 114, 0.4)","rgb(187, 116, 116, 0.4)","rgb(190, 159, 107, 0.4)","rgb(159, 179, 138, 0.4)","rgb(161, 215, 224, 0.4)","rgb(190, 183, 202, 0.4)","rgb(97, 97, 97, 0.4)","rgb(194, 132, 143, 0.4)","rgb(179, 171, 151, 0.4)","rgb(147, 180, 165, 0.4)","rgb(113, 148, 194, 0.4)","rgb(150, 125, 158, 0.4)","rgb(153, 119, 83, 0.4)"],"dark":["rgb(173, 20, 87)","rgb(242, 72, 34)","rgb(228, 196, 65)","rgb(11, 128, 67)","rgb(63, 81, 181)","rgb(142, 36, 170)","rgb(216, 27, 96)","rgb(239, 108, 0)","rgb(192, 202, 51)","rgb(0, 150, 136)","rgb(121, 134, 203)","rgb(121, 85, 72)","rgb(213, 0, 0)","rgb(240, 147, 0)","rgb(124, 179, 66)","rgb(54, 191, 215)","rgb(179, 157, 219)","rgb(97, 97, 97)","rgb(240, 89, 116)","rgb(246, 191, 38)","rgb(26, 193, 115)","rgb(5, 108, 242)","rgb(158, 105, 175)","rgb(167, 155, 142)"]}');r(6822);function G(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,l,a=[],o=!0,i=!1;try{for(r=r.call(e);!(o=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);o=!0);}catch(c){i=!0,l=c}finally{try{o||null==r.return||r.return()}finally{if(i)throw l}}return a}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return M(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return M(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function M(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var R=function(e){var t=e.color,r=e.onClick,l=e.isSelected;return n.createElement("div",{className:"cp-box ".concat(l?"checked":"")},n.createElement("div",{className:"cp-content",style:{background:t},"data-color":t,onClick:r}))};const U=function(e){var t=e.name,r=e.className,l=e.containerClassName,a=e.color,o=e.isLight,i=e.defaultColor,c=void 0===i?"#000000":i,u=e.onChange,s=e.title,f=e.disabled,m=G((0,n.useState)(!1),2),p=m[0],y=m[1],d=G((0,n.useState)(c),2),g=d[0],v=d[1],b=(0,n.useRef)(),h="undefined"==typeof a;return T(b,(function(){return y(!1)})),h||(0,n.useEffect)((function(){v(a)}),[a]),h&&(0,n.useEffect)((function(){"function"!==typeof u||f||u(g)}),[g,f,u]),n.createElement("div",{ref:b,className:"cp-container  ".concat(l)},n.createElement("div",{className:"cp-swatch-head ".concat(r,"  ").concat(f&&"disabled")},n.createElement("label",null,s),n.createElement("div",{className:"cp-swatch ".concat(f&&"disabled"),onClick:function(){return y(!p)}},n.createElement(R,{color:g,disabled:f}),n.createElement("input",{value:g,name:t,hidden:!0,readOnly:!0,onChange:function(e){return!e.target.value&&v(c)}}))),p&&n.createElement("div",{className:"cp-opts"},n.createElement("div",{className:"list"},n.createElement("div",{className:"cp-colors"},L[o?"light":"dark"].map((function(e){return n.createElement(R,{isSelected:e===g,key:e,color:e,onClick:function(){return function(e){h?v(e):e!==a&&u(e)}(e)}})})),n.createElement("div",{className:"cp-code"},n.createElement("span",null,"#"),n.createElement("input",{value:g,readOnly:!0}))))))};function _(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function D(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?_(Object(r),!0).forEach((function(t){J(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function J(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function V(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,l,a=[],o=!0,i=!1;try{for(r=r.call(e);!(o=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);o=!0);}catch(c){i=!0,l=c}finally{try{o||null==r.return||r.return()}finally{if(i)throw l}}return a}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return K(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return K(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function K(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var W=r(2113),q=r(5193),z=r(3146),$=(r(4921),new b.Z({visible:!1,source:new v.Z({features:(new I.Z).readFeatures(W,{dataProjection:"EPSG:4326",featureProjection:"EPSG:3857"})})})),B=new b.Z({visible:!1,source:new v.Z({features:(new I.Z).readFeatures(q,{dataProjection:"EPSG:4326",featureProjection:"EPSG:3857"})})}),H=new b.Z({visible:!1,source:new v.Z({features:(new I.Z).readFeatures(z,{dataProjection:"EPSG:4326",featureProjection:"EPSG:3857"})})});const Y=function(e){var t=V((0,n.useState)(null),2),r=(t[0],t[1]),l=V((0,n.useState)({India:{},Spain:{},Egypt:{}}),2),a=l[0],i=l[1],m=(0,n.useRef)(null),p=function(e){i((function(t){return D(D({},t),{},J({},e.target.value,D(D({},t[e.target.value]),{},{visible:e.target.checked})))}))},y=function(e){return function(t){i((function(r){return D(D({},r),{},J({},e,D(D({},r[e]),{},{stroke:t})))}))}},d=function(e){return function(t){i((function(r){return D(D({},r),{},J({},e,D(D({},r[e]),{},{fill:t})))}))}};return(0,n.useEffect)((function(){$.setStyle(new P.ZP({stroke:new Z.Z({color:a.India.stroke,width:2}),fill:new F.Z({color:a.India.fill})})),B.setStyle(new P.ZP({stroke:new Z.Z({color:a.Spain.stroke,width:2}),fill:new F.Z({color:a.Spain.fill})})),H.setStyle(new P.ZP({stroke:new Z.Z({color:a.Egypt.stroke,width:2}),fill:new F.Z({color:a.Egypt.fill})}));new v.Z({features:(new I.Z).readFeatures(W,{dataProjection:"EPSG:4326",featureProjection:"EPSG:3857"})});var e=new c.Z({target:m.current,layers:[new s.Z({source:new f.Z}),$,H,B],view:new u.ZP({zoom:2,center:[0,0]})});return r(e),function(){return e.setTarget(void 0)}}),[]),(0,n.useEffect)((function(){var e,t,r,n,l,o,i,c,u,s,f,m,p,y,d,g,v,b,h,E,S,w,O,k;a.India.visible!==$.getVisible()&&$.setVisible(a.India.visible),a.Spain.visible!==B.getVisible()&&B.setVisible(a.Spain.visible),a.Egypt.visible!==H.getVisible()&&H.setVisible(a.Egypt.visible),a.India.stroke!==(null===(e=$.getStyle())||void 0===e||null===(t=e.getStroke)||void 0===t||null===(r=t.call(e))||void 0===r||null===(n=r.getColor)||void 0===n?void 0:n.call(r))&&($.getStyle().getStroke().setColor(a.India.stroke),$.changed()),a.Spain.stroke!==(null===(l=B.getStyle())||void 0===l||null===(o=l.getStroke)||void 0===o||null===(i=o.call(l))||void 0===i||null===(c=i.getColor)||void 0===c?void 0:c.call(i))&&(B.getStyle().getStroke().setColor(a.Spain.stroke),B.changed()),a.Egypt.stroke!==(null===(u=H.getStyle())||void 0===u||null===(s=u.getStroke)||void 0===s||null===(f=s.call(u))||void 0===f||null===(m=f.getColor)||void 0===m?void 0:m.call(f))&&(H.getStyle().getStroke().setColor(a.Egypt.stroke),H.changed()),a.India.fill!==(null===(p=$.getStyle())||void 0===p||null===(y=p.getFill)||void 0===y||null===(d=y.call(p))||void 0===d||null===(g=d.getColor)||void 0===g?void 0:g.call(d))&&($.getStyle().getFill().setColor(a.India.fill),$.changed()),a.Spain.fill!==(null===(v=B.getStyle())||void 0===v||null===(b=v.getFill)||void 0===b||null===(h=b.call(v))||void 0===h||null===(E=h.getColor)||void 0===E?void 0:E.call(h))&&(B.getStyle().getFill().setColor(a.Spain.fill),B.changed()),a.Egypt.fill!==(null===(S=H.getStyle())||void 0===S||null===(w=S.getFill)||void 0===w||null===(O=w.call(S))||void 0===O||null===(k=O.getColor)||void 0===k?void 0:k.call(O))&&(H.getStyle().getFill().setColor(a.Egypt.fill),H.changed())}),[a]),n.createElement("div",{className:"example-5"},n.createElement(o.rU,{to:"/"},"Home"),n.createElement("h2",null,"Apply Layers"),n.createElement("div",{className:"options"},n.createElement("div",{className:"opt"},n.createElement("div",null,n.createElement("input",{type:"checkbox",id:"India",value:"India",onChange:p}),n.createElement("label",{htmlFor:"India"},"India")),n.createElement(U,{title:"Stroke",onChange:y("India")}),n.createElement(U,{title:"Fill",isLight:!0,onChange:d("India")})),n.createElement("div",{className:"opt"},n.createElement("div",null,n.createElement("input",{type:"checkbox",id:"Egypt",value:"Egypt",onChange:p}),n.createElement("label",{htmlFor:"Egypt"},"Egypt")),n.createElement(U,{title:"Stroke",onChange:y("Egypt")}),n.createElement(U,{title:"Fill",isLight:!0,onChange:d("Egypt")})),n.createElement("div",{className:"opt"},n.createElement("div",null,n.createElement("input",{type:"checkbox",id:"Spain",value:"Spain",onChange:p}),n.createElement("label",{htmlFor:"Spain"},"Spain")),n.createElement(U,{title:"Stroke",onChange:y("Spain")}),n.createElement(U,{title:"Fill",isLight:!0,onChange:d("Spain")}))),n.createElement("div",{className:"map",ref:m,id:"example-5-map"}))};var X=r(8310),Q=r(4210),ee=r(3328),te=r(1273),re=r(1577),ne=r(9797),le=r(2329),ae=r(8795);const oe=function(e){var t=e.map,r=e.visible,l=e.source,a=e.style,o=e.zIndex,i=void 0===o?0:o,c=(e.layerType,(0,n.useRef)(null));(0,n.useRef)(null),(0,n.useRef)(null),(0,n.useRef)(null);return(0,n.useEffect)((function(){if(t)return c.current=new b.Z({source:l,style:[new P.ZP({stroke:new Z.Z({color:a.stroke,width:2}),fill:new F.Z({color:a.fill}),image:new ne.Z({radius:3,fill:new F.Z({color:"blue"})})}),new P.ZP({image:new ne.Z({radius:3,fill:new F.Z({color:"blue"})}),geometry:function(e){var t=e.getGeometry().getCoordinates()[0];return console.log(e.getGeometry().getType()===ae.Z.POLYGON),e.getGeometry().getType()===ae.Z.POLYGON?new le.Z(t):null}})]}),t.addLayer(c.current),c.current.setZIndex(i),function(){t&&(t.removeLayer(c.current),c.current=null)}}),[t,l]),(0,n.useEffect)((function(){c.current&&c.current.setVisible(r)}),[r]),(0,n.useEffect)((function(){var e,t,r,n,l,o,i,u,s,f,m,p;c.current&&a.stroke!==(null===(e=c.current.getStyle())||void 0===e||null===(t=e[0])||void 0===t||null===(r=t.getStroke)||void 0===r||null===(n=r.call(t))||void 0===n||null===(l=n.getColor)||void 0===l?void 0:l.call(n))&&(null===(m=c.current.getStyle())||void 0===m||m[0].getStroke().setColor(a.stroke),c.current.changed());c.current&&a.fill!==(null===(o=c.current.getStyle())||void 0===o||null===(i=o[0])||void 0===i||null===(u=i.getFill)||void 0===u||null===(s=u.call(i))||void 0===s||null===(f=s.getColor)||void 0===f?void 0:f.call(s))&&(null===(p=c.current.getStyle())||void 0===p||p[0].getFill().setColor(a.fill),c.current.changed())}),[null===a||void 0===a?void 0:a.stroke,null===a||void 0===a?void 0:a.fill]),null};r(5733);function ie(){return(ie=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function ce(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ue(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ce(Object(r),!0).forEach((function(t){se(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ce(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function se(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,l,a=[],o=!0,i=!1;try{for(r=r.call(e);!(o=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);o=!0);}catch(c){i=!0,l=c}finally{try{o||null==r.return||r.return()}finally{if(i)throw l}}return a}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return me(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return me(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function me(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var pe=r(2113),ye=r(5193),de=r(3146);function ge(e){switch(e.name.substring(e.name.lastIndexOf(".")+1,e.name.length)||e.name){case"kml":case"KML":return"KML";default:return"GEOJSON"}}const ve=function(e){var t=fe((0,n.useState)(null),2),r=t[0],l=t[1],a=fe((0,n.useState)({stroke:"#000000",fill:"rgb(0, 0, 0, 0.4)"}),2),i=a[0],m=a[1],p=fe((0,n.useState)(),2),y=p[0],d=p[1],g=fe((0,n.useState)([{name:"India",source:new v.Z({features:(new I.Z).readFeatures(pe,{dataProjection:"EPSG:4326",featureProjection:"EPSG:3857"})}),visible:!0,layerType:"GEOJSON",style:{stroke:"rgb(173, 20, 87)",fill:"rgb(235, 128, 174, 0.4)"}},{name:"Spain",source:new v.Z({features:(new I.Z).readFeatures(ye,{dataProjection:"EPSG:4326",featureProjection:"EPSG:3857"})}),visible:!0,layerType:"GEOJSON",style:{stroke:"rgb(242, 72, 34)",fill:"rgb(228, 159, 144, 0.4)"}},{name:"Egypt",source:new v.Z({features:(new I.Z).readFeatures(de,{dataProjection:"EPSG:4326",featureProjection:"EPSG:3857"})}),visible:!0,layerType:"GEOJSON",style:{stroke:"rgb(228, 196, 65)",fill:"rgb(236, 224, 173, 0.4)"}}]),2),h=g[0],E=g[1],S=(0,n.useRef)(null),w=(0,n.useRef)(null),O=(0,n.useRef)(null),k=function(e){return function(t){E((function(r){var n;return Object.assign([],r,se({},e,Object.assign({},r[e],{style:ue(ue({},null===(n=r[e])||void 0===n?void 0:n.style),{},{stroke:t})})))}))}},P=function(e){return function(t){E((function(r){var n;return Object.assign([],r,se({},e,Object.assign({},r[e],{style:ue(ue({},null===(n=r[e])||void 0===n?void 0:n.style),{},{fill:t})})))}))}},Z=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!e)return null;var n,l=e.name.substring(e.name.lastIndexOf(".")+1,e.name.length)||e.name;switch(console.log("extention",l),l){case"KML":case"kml":n=new X.ZP(!1===r.extractStyles?{extractStyles:!1}:void 0).readFeatures(t.target.result,{dataProjection:"EPSG:4326",featureProjection:"EPSG:3857"});break;default:n=(new I.Z).readFeatures(JSON.parse(t.target.result),{dataProjection:"EPSG:4326",featureProjection:"EPSG:3857"})}return new v.Z({features:n})};return(0,n.useEffect)((function(){var e=new ee.Z({formatConstructors:[I.Z,X.ZP]}),t=new c.Z({target:S.current,interactions:(0,Q.ce)().extend([e]),layers:[new s.Z({source:new f.Z})],view:new u.ZP({zoom:2,center:[0,0]})});return l(t),w.current=new te.Z,O.current=new re.Z({features:w.current.getFeatures()}),t.addInteraction(w.current),t.addInteraction(O.current),e.on("addfeatures",(function(e){m((function(t){return ue(ue({},t),{},{file:e.file,isDragged:!0,layerType:ge(e.file),hasStyles:"KML"===ge(e.file),fill:"#000000"!==i.fill&&i.fill||"rgb(0,0,0, 0.4)"})}))})),document.addEventListener("keydown",(function(e){var r,n;"Delete"===e.key&&null!==(r=w.current)&&void 0!==r&&null!==(n=r.getFeatures)&&void 0!==n&&n.call(r)&&t.getLayers().forEach((function(e){e instanceof b.Z&&w.current.getFeatures().forEach((function(t){var r=e.getSource();r.hasFeature(t)&&r.removeFeature(t)}))}))})),function(){t.setTarget(void 0),t.removeInteraction(w.current),t.removeInteraction(O.current)}}),[]),(0,n.useEffect)((function(){if(i.file){var e,t=new FileReader;t.onload=function(t){try{e=Z(i.file,t,{extractStyles:i.hasStyles}),r&&r.getView().fit(e.getExtent())}catch(n){e=null,console.log(n)}d(e)},t.readAsText(i.file)}}),[i.file,i.hasStyles]),(0,n.useEffect)((function(){Object.keys(i).length||document.querySelector("form").reset()}),[i]),n.createElement("div",{className:"example-6"},n.createElement(o.rU,{to:"/"},"Home"),n.createElement("h2",null,"Apply Layers"),n.createElement("div",{className:"options"},h.map((function(e,t){var l,a,o;return n.createElement("div",{className:"opt",key:t},n.createElement(oe,ie({map:r},e)),n.createElement("div",{className:""},n.createElement("input",{className:"",type:"checkbox",id:e.name,value:e.name,onChange:(o=t,function(e){E((function(t){return Object.assign([],t,se({},o,ue(ue({},t[o]),{},{visible:e.target.checked})))}))}),checked:e.visible}),n.createElement("label",{className:"",htmlFor:e.name},e.name)),n.createElement(U,{disabled:e.extractStyles,title:"Stroke",color:null===(l=e.style)||void 0===l?void 0:l.stroke,onChange:k(t)}),n.createElement(U,{disabled:e.extractStyles,title:"Fill",color:null===(a=e.style)||void 0===a?void 0:a.fill,isLight:!0,onChange:P(t)}),n.createElement("button",{className:"btn btn-outline-danger",type:"button",onClick:function(){return function(e){E((function(t){return t.filter((function(t,r){return r!==e}))}))}(t)}},n.createElement("i",{className:"far fa-trash-alt"})))}))),n.createElement("h4",null,"Add Layer (+) "),n.createElement("form",{onSubmit:function(e){var t;e.preventDefault();var r,n=null===(t=document.querySelector('input[name="layer_name"]'))||void 0===t?void 0:t.value;if(!n||!i.file)return alert("Name or file is missing");var l=new FileReader;l.onload=function(e){try{r=Z(i.file,e,{extractStyles:i.hasStyles}),E((function(e){return e.concat({name:n,source:r,extractStyles:i.hasStyles,layerType:ge(i.file),style:{stroke:i.stroke,fill:i.fill},visible:!0})})),d(null),m({})}catch(t){return r=null,console.log(t),alert("Geo Json/kml file is invalid")}},l.readAsText(i.file)}},n.createElement("div",{className:"col fields mb-3"},n.createElement("input",{placeholder:"Layer Name",name:"layer_name",onChange:function(e){return m(ue(ue({},i),{},{name:e.target.value}))}}),"KML"===i.layerType&&n.createElement("div",{className:"row ms-2"},n.createElement("span",{className:"mr-2"},"Disable Kml Styles"),n.createElement("div",null,n.createElement("input",{className:"mx-2",name:"extract_styles",id:"extract_styles1",type:"radio",value:1,checked:!i.hasStyles,onChange:function(e){return m((function(e){return ue(ue({},e),{},{hasStyles:!1})}))}}),n.createElement("label",{htmlFor:"extract_styles1"},"Yes"),n.createElement("input",{className:"mx-2",name:"extract_styles",id:"extract_styles0",type:"radio",value:0,checked:i.hasStyles,onChange:function(e){return m((function(e){return ue(ue({},e),{},{hasStyles:!0})}))}}),n.createElement("label",{htmlFor:"extract_styles0"},"No"))),n.createElement(U,{title:"Stroke",name:"stroke",color:i.stroke||"#000000",disabled:i.hasStyles,onChange:function(e){return m(ue(ue({},i),{},{stroke:e}))}}),n.createElement(U,{title:"Fill",isLight:!0,name:"fill",color:i.fill||"rgb(0,0,0, 0.4)",disabled:i.hasStyles,onChange:function(e){return m(ue(ue({},i),{},{fill:e}))}}),n.createElement("input",{type:"file",name:"geojson_file",onChange:function(e){return m(ue(ue({},i),{},{file:e.target.files[0],isDragged:!1,layerType:ge(e.target.files[0]),hasStyles:"KML"===ge(e.target.files[0]),fill:"#000000"!==i.fill&&i.fill||"rgb(0,0,0, 0.4)"}))}}),n.createElement("button",{className:"btn btn-outline-primary btn-plus"},n.createElement("i",{className:"fas fa-plus"})),n.createElement("button",{type:"button",className:"btn btn-outline-warning ms-2",onClick:function(){return m({})}},n.createElement("i",{className:"fas fa-redo"})),i.file&&n.createElement(oe,{map:r,source:y,layerType:ge(i.file),visible:!0,style:{stroke:i.stroke,fill:i.fill}}))),n.createElement("div",{className:"map",ref:S,id:"example-6-map"}))};function be(e){return(be="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function he(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ee(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Se(e,t){return(Se=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function we(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=ke(e);if(t){var l=ke(this).constructor;r=Reflect.construct(n,arguments,l)}else r=n.apply(this,arguments);return Oe(this,r)}}function Oe(e,t){return!t||"object"!==be(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ke(e){return(ke=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}e=r.hmd(e);var Pe=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Se(e,t)}(u,e);var t,r,l,c=we(u);function u(){return he(this,u),c.apply(this,arguments)}return t=u,(r=[{key:"render",value:function(){return n.createElement(o.VK,{basename:"openstreet-examples"},n.createElement("div",{className:"App"},n.createElement("h1",null," Open Layers Example "),n.createElement(a.rs,null,n.createElement(a.AW,{path:"/example-1",component:y}),n.createElement(a.AW,{path:"/example-2",component:S}),n.createElement(a.AW,{path:"/example-3",component:k}),n.createElement(a.AW,{path:"/example-4",component:A}),n.createElement(a.AW,{path:"/example-5",component:Y}),n.createElement(a.AW,{path:"/example-6",component:ve}),n.createElement(a.AW,{exact:!0,path:"/",component:i}))))}}])&&Ee(t.prototype,r),l&&Ee(t,l),u}(n.Component);const Ze=(0,l.wU)(e)(Pe)},2352:(e,t,r)=>{"use strict";var n=r(7294),l=r(3935),a=r(3366);l.render(n.createElement(a.Z,null),document.getElementById("root"))},9734:(e,t,r)=>{"use strict";var n=r(4783)(e.id,{locals:!1});e.hot.dispose(n),e.hot.accept(void 0,n)},6822:(e,t,r)=>{"use strict";var n=r(4783)(e.id,{locals:!1});e.hot.dispose(n),e.hot.accept(void 0,n)},3146:e=>{"use strict";e.exports=JSON.parse('{"type":"FeatureCollection","features":[{"type":"Feature","properties":{"stroke":"#3dc74d","stroke-width":2,"stroke-opacity":1,"fill":"#b3dbb7","fill-opacity":0.5},"geometry":{"type":"Polygon","coordinates":[[[24.9169921875,31.541089879585808],[24.9169921875,21.94304553343818],[33.5302734375,22.024545601240337],[33.4423828125,26.86328062676624],[32.34375,28.536274512989916],[29.3994140625,27.605670826465445],[25.6201171875,27.72243591897343],[24.960937499999996,27.839076094777816],[24.9169921875,31.541089879585808]]]}}]}')},2113:e=>{"use strict";e.exports=JSON.parse('{"type":"FeatureCollection","features":[{"type":"Feature","properties":{"stroke":"#e63763","stroke-width":2,"stroke-opacity":1,"fill":"#2262d8","fill-opacity":0.5},"geometry":{"type":"Polygon","coordinates":[[[70.57617187499999,19.394067895396613],[75.673828125,7.710991655433217],[78.31054687499999,6.926426847059551],[81.650390625,12.983147716796578],[87.5390625,20.05593126519445],[91.0546875,22.917922936146045],[96.591796875,22.51255695405145],[99.140625,27.839076094777816],[92.8125,29.6880527498568],[87.802734375,27.839076094777816],[79.98046875,31.80289258670676],[80.595703125,35.67514743608467],[77.34374999999999,36.87962060502676],[71.19140625,38.06539235133249],[70.83984375,35.67514743608467],[72.7734375,33.43144133557529],[73.828125,31.27855085894653],[70.048828125,28.76765910569123],[68.37890625,26.43122806450644],[69.43359375,25.403584973186703],[67.1484375,24.206889622398023],[69.345703125,20.550508894195637],[72.0703125,20.138470312451155],[70.6640625,19.062117883514652],[70.57617187499999,19.394067895396613]]]}}]}')},4921:e=>{"use strict";e.exports=JSON.parse('{"type":"FeatureCollection","features":[{"type":"Feature","properties":{"stroke":"#d71d1d","stroke-width":2,"stroke-opacity":1,"fill":"#555555","fill-opacity":0.5},"geometry":{"type":"Polygon","coordinates":[[[10.8984375,81.14748070499664],[-35.15625,58.07787626787517],[-29.8828125,1.7575368113083254],[10.1953125,-47.98992166741417],[181.05468749999997,-58.63121664342478],[186.6796875,-18.979025953255267],[184.5703125,66.37275500247455],[163.125,81.2550322990594],[10.8984375,81.14748070499664]]]}},{"type":"Feature","properties":{},"geometry":{"type":"Point","coordinates":[117.42187500000001,67.7427590666639]}},{"type":"Feature","properties":{},"geometry":{"type":"Point","coordinates":[78.3984375,22.59372606392931]}},{"type":"Feature","properties":{},"geometry":{"type":"Point","coordinates":[3.8671874999999996,47.754097979680026]}}]}')},5193:e=>{"use strict";e.exports=JSON.parse('{"type":"FeatureCollection","features":[{"type":"Feature","properties":{"stroke":"#e63763","stroke-width":2,"stroke-opacity":1,"fill":"#2262d8","fill-opacity":0.5},"geometry":{"type":"Polygon","coordinates":[[[-6.481933593749999,43.6599240747891],[-8.942871093749998,43.8186748554532],[-9.4921875,42.71473218539458],[-8.876953125,40.81380923056958],[-9.755859375,39.52099229357195],[-9.25048828125,38.272688535980976],[-9.404296875,36.98500309285596],[-8.7451171875,37.00255267215955],[-6.96533203125,36.932330061503144],[-6.5478515625,36.491973470593685],[-5.6689453125,35.79999392988527],[-3.9990234375,36.56260003738545],[-2.04345703125,36.4566360115962],[-0.37353515625,37.85750715625203],[0.46142578125,38.976492485539396],[0.2197265625,40.01078714046552],[1.5380859375,40.9964840143779],[3.3618164062499996,41.75492216766298],[3.6694335937500004,42.76314586689492],[2.13134765625,43.58039085560784],[-0.3515625,43.77109381775651],[-3.251953125,43.8503744993026],[-6.481933593749999,43.6599240747891]]]}}]}')}},e=>{"use strict";e.O(0,[107,578,616,852,905,532,190,805,933,770],(()=>{return t=2352,e(e.s=t);var t}));e.O()}]);